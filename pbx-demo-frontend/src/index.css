@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@500;600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  *,
  *::before,
  *::after {
    @apply box-border;
  }

  html,
  body,
  #root {
    min-height: 100%;
  }

  body {
    @apply m-0 bg-bg font-sans text-muted antialiased;
    background-image:
      radial-gradient(circle at -10% -18%, rgba(31, 134, 238, 0.2) 0%, rgba(31, 134, 238, 0) 56%),
      radial-gradient(circle at 106% -24%, rgba(28, 164, 176, 0.18) 0%, rgba(28, 164, 176, 0) 52%),
      radial-gradient(circle at 86% 118%, rgba(240, 147, 47, 0.15) 0%, rgba(240, 147, 47, 0) 46%),
      linear-gradient(180deg, #f8fbff 0%, #f2f6fb 58%, #ecf2f8 100%);
    background-attachment: fixed;
  }

  ::selection {
    background: rgba(31, 134, 238, 0.24);
    color: #0d2133;
  }

  button,
  input,
  select,
  textarea {
    @apply font-sans;
  }
}

@layer components {
  .card {
    @apply rounded-3xl border border-border/80 bg-surface/90 p-5 shadow-card backdrop-blur-sm transition-all duration-200;
  }

  .card:hover {
    @apply -translate-y-0.5 shadow-soft;
  }

  .card h2,
  .card h3,
  .card h4 {
    @apply m-0 font-display text-ink;
  }

  .card p {
    @apply m-0;
  }

  .banner-error,
  .banner-success {
    @apply rounded-2xl border px-3 py-2 text-sm font-medium;
  }

  .banner-error {
    @apply border-danger-500/30 bg-danger-100 text-danger-700;
  }

  .banner-success {
    @apply border-success-500/30 bg-success-100 text-success-700;
  }

  .status-strip {
    @apply flex flex-wrap items-center gap-2;
  }

  .status-chip {
    @apply inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-semibold;
  }

  .status-chip::before {
    content: '';
    width: 7px;
    height: 7px;
    border-radius: 999px;
    background: currentColor;
    opacity: 0.75;
  }

  .status-active {
    @apply border-success-500/35 bg-success-100 text-success-700;
  }

  .status-waiting {
    @apply border-warning-500/35 bg-warning-100 text-warning-700;
  }

  .status-critical {
    @apply border-danger-500/35 bg-danger-100 text-danger-700;
  }

  .status-info {
    @apply border-info-500/35 bg-info-100 text-info-700;
  }

  .form-grid {
    @apply grid gap-3;
  }

  .grid-two {
    @apply grid gap-3 md:grid-cols-2;
  }

  .grid-three {
    @apply grid gap-3 md:grid-cols-3;
  }

  .stack-actions {
    @apply grid gap-2;
  }

  .label {
    @apply mb-1 block text-xs font-semibold uppercase tracking-wider text-muted;
  }

  .input,
  .select,
  .textarea {
    @apply w-full rounded-xl border border-border bg-white px-3 text-sm text-ink shadow-sm transition duration-150;
  }

  .input,
  .select {
    @apply h-10;
  }

  .textarea {
    @apply min-h-24 resize-y py-2.5;
  }

  .input::placeholder,
  .textarea::placeholder {
    @apply text-muted/70;
  }

  .input:hover,
  .select:hover,
  .textarea:hover {
    @apply border-primary-400;
  }

  .input:focus,
  .select:focus,
  .textarea:focus {
    @apply border-primary-500 outline-none ring-4 ring-primary-500/20;
  }

  .primary-button,
  .secondary-button,
  .danger-button {
    @apply inline-flex h-10 items-center justify-center rounded-xl border px-4 text-sm font-semibold shadow-soft transition-all duration-150 disabled:cursor-not-allowed disabled:opacity-55 disabled:shadow-none;
  }

  .primary-button {
    @apply border-transparent bg-gradient-to-r from-primary-600 to-secondary-500 text-white hover:-translate-y-0.5 hover:brightness-105 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-primary-500/25;
  }

  .secondary-button {
    @apply border-border bg-white text-muted-strong hover:-translate-y-0.5 hover:border-primary-300 hover:bg-surface-2 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-primary-500/20;
  }

  .danger-button {
    @apply border-transparent bg-gradient-to-r from-danger-700 to-danger-500 text-white hover:-translate-y-0.5 hover:brightness-105 focus-visible:outline-none focus-visible:ring-4 focus-visible:ring-danger-500/25;
  }

  .section-note {
    @apply text-sm text-muted;
  }

  .call-actions {
    @apply mt-3 flex flex-wrap gap-2;
  }

  .notes-list {
    @apply grid max-h-48 gap-2 overflow-auto pr-1;
  }

  .event-log {
    @apply grid max-h-72 gap-2 overflow-auto;
  }

  .event-row {
    @apply grid gap-2 rounded-xl border border-border/70 bg-white/70 p-3 text-sm text-muted md:grid-cols-[120px_minmax(0,1fr)];
  }

  .history-summary {
    @apply text-sm text-muted;
  }

  .history-timeline {
    @apply flex flex-wrap gap-2;
  }

  .history-pill {
    @apply rounded-full border border-border bg-white/90 px-3 py-1 text-xs font-medium text-muted-strong;
  }

  .supervisor-workspace {
    @apply grid gap-4;
  }

  @media (min-width: 1280px) {
    .supervisor-workspace {
      grid-template-columns: 260px minmax(0, 1fr);
    }
  }

  .supervisor-content {
    @apply grid gap-4;
  }

  .supervisor-nav {
    @apply self-start xl:sticky xl:top-24;
  }

  .supervisor-nav-group + .supervisor-nav-group {
    @apply mt-4;
  }

  .supervisor-nav-title {
    @apply mb-2 text-xs font-semibold uppercase tracking-wider text-muted;
  }

  .supervisor-nav-list {
    @apply grid gap-2;
  }

  .supervisor-link {
    @apply inline-flex h-10 items-center rounded-xl border border-border bg-white px-3 text-left text-sm font-semibold text-muted-strong shadow-sm transition-all duration-150 hover:-translate-y-0.5 hover:border-primary-300 hover:bg-surface-2;
  }

  .supervisor-link-active {
    @apply border-transparent bg-gradient-to-r from-primary-600 to-secondary-500 text-white shadow-soft;
  }

  .supervisor-page-stack {
    @apply grid gap-4;
  }

  .analytics-header {
    @apply flex flex-wrap items-center justify-between gap-3;
  }

  .analytics-actions {
    @apply flex flex-wrap items-center gap-2;
  }

  .analytics-days-select {
    @apply min-w-32;
  }

  .kpi-grid {
    @apply mt-3 grid gap-3 sm:grid-cols-2 xl:grid-cols-4;
  }

  .kpi-card {
    @apply rounded-2xl border border-border bg-white/80 p-3;
  }

  .kpi-card-info {
    @apply border-info-500/20 bg-info-100/70;
  }

  .kpi-card-active {
    @apply border-success-500/20 bg-success-100/75;
  }

  .kpi-card-waiting {
    @apply border-warning-500/20 bg-warning-100/75;
  }

  .kpi-card-critical {
    @apply border-danger-500/20 bg-danger-100/80;
  }

  .kpi-label {
    @apply block text-xs font-semibold uppercase tracking-wide text-muted;
  }

  .kpi-value {
    @apply mt-1 block font-display text-lg font-semibold text-ink;
  }

  .graph-list {
    @apply grid gap-3;
  }

  .graph-row {
    display: grid;
    grid-template-columns: minmax(126px, 190px) minmax(0, 1fr) 48px;
    gap: 10px;
    align-items: center;
  }

  .graph-label {
    @apply truncate text-sm text-muted-strong;
  }

  .graph-track {
    @apply relative h-3 overflow-hidden rounded-full border border-border bg-slate-100;
  }

  .graph-fill {
    @apply absolute inset-y-0 left-0 rounded-full;
  }

  .graph-fill-primary {
    @apply bg-gradient-to-r from-primary-500 to-secondary-400;
  }

  .graph-fill-secondary {
    @apply bg-gradient-to-r from-secondary-500 to-accent-400;
  }

  .graph-value {
    @apply text-right text-sm font-semibold text-ink;
  }

  .supervisor-table {
    @apply grid gap-3;
  }

  .supervisor-row {
    @apply flex flex-wrap items-start justify-between gap-3 rounded-2xl border border-border bg-white/80 p-4;
  }

  .history-row {
    @apply grid gap-2;
  }

  .row-actions {
    @apply flex flex-wrap gap-2;
  }

  .switch-line {
    @apply inline-flex items-center gap-2;
  }

  .switch-line input[type='checkbox'] {
    accent-color: #1169d1;
  }

  .incoming-toast {
    @apply fixed bottom-4 right-4 z-50 w-[min(360px,calc(100vw-24px))] animate-toast-in rounded-3xl border border-border bg-surface p-4 shadow-card;
  }
}
